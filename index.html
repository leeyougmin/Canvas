<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Canvas</title>
    <link rel="stylesheet" href="./css/common.css">
</head>
<body>
    <div id="wrap">
        <nav>
            <ul>
                <li><button>1px</button></li>
                <li>
                    <div class="picker-wrap">
                        <button class="color-picker-btn" value="#000"></button>
                        <div class="color-picker">
                            <button value="#000"></button>
                            <button value="#FF0000"></button>
                            <button value="#FF7F00"></button>
                            <button value="#FFFF00"></button>
                            <button value="#00FF00"></button>
                            <button value="#0000FF"></button>
                            <button value="#4B0082"></button>
                        </div>
                    </div>
                </li>
                <li><button class="redo"></button></li>
                <li><button class="undo"></button></li>
            </ul>
        </nav>
        <div class="canvas-wrap">
            <canvas class="canvas"></canvas>
        </div>
    </div>
</body>
<script>
class App {
    constructor() {
        this.init();
    }
    init() {
        this.evtHandler();
        this.setCanvas();
    }
    evtHandler() {
        // Show Color picker wrap evt
        document.querySelector(".color-picker-btn").addEventListener("click", (e) => {
            document.querySelector(".color-picker").style.display = "flex";
        }, "mouseleave", (e) => {
            console.log(e)
            document.querySelector(".color-picker").style.display = "none";
        });
        
        // Change Color evt
        document.querySelectorAll(".color-picker > button").forEach((v) => {
            v.addEventListener("click", this.changeColor.bind(this));  
        });
    }
    // Change color
    changeColor(e) {
        document.querySelector(".color-picker-btn").value = e.target.value;
        this.setCanvas(e.target.value);
    }
    // Canvas
    setCanvas(color) {
        const canvas = document.querySelector(".canvas");
        const ctx = canvas.getContext("2d");

        ctx.fillStyle = color; // Set Color
    }
}

const app = new App();


</script>
</html>